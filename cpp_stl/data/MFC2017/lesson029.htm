<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0050)lesson029.htm -->
<HTML xmlns:mso="urn:schemas-microsoft-com:office:office" xmlns:msdt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882"><HEAD><TITLE>ﾏ&#57517;胙瑟頏魵瑙韃 浯 Visual C++</TITLE>

<!--[if gte mso 9]><xml>
<mso:CustomDocumentProperties>
<mso:xd_Signature msdt:dt="string"></mso:xd_Signature>
<mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_Editor msdt:dt="string">&#1050;&#1088;&#1091;&#1075;&#1083;&#1086;&#1074; &#1057;&#1077;&#1088;&#1075;&#1077;&#1081; &#1050;&#1086;&#1085;&#1089;&#1090;&#1072;&#1085;&#1090;&#1080;&#1085;&#1086;&#1074;&#1080;&#1095;</mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_Editor>
<mso:Order msdt:dt="string">8400.00000000000</mso:Order>
<mso:xd_ProgID msdt:dt="string"></mso:xd_ProgID>
<mso:_ExtendedDescription msdt:dt="string"></mso:_ExtendedDescription>
<mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_Author msdt:dt="string">&#1050;&#1088;&#1091;&#1075;&#1083;&#1086;&#1074; &#1057;&#1077;&#1088;&#1075;&#1077;&#1081; &#1050;&#1086;&#1085;&#1089;&#1090;&#1072;&#1085;&#1090;&#1080;&#1085;&#1086;&#1074;&#1080;&#1095;</mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_Author>
<mso:ComplianceAssetId msdt:dt="string"></mso:ComplianceAssetId>
<mso:TemplateUrl msdt:dt="string"></mso:TemplateUrl>
<mso:ContentTypeId msdt:dt="string">0x0101002C05377DDBA1DA4998D7B8B3F4A9A863</mso:ContentTypeId>
<mso:TriggerFlowInfo msdt:dt="string"></mso:TriggerFlowInfo>
<mso:_SourceUrl msdt:dt="string"></mso:_SourceUrl>
<mso:_SharedFileIndex msdt:dt="string"></mso:_SharedFileIndex>
</mso:CustomDocumentProperties>
</xml><![endif]-->
</HEAD>
<BODY background="../bgrwhite.gif">

      <CENTER><B>ﾓ&#57517;・IX</B></CENTER></FONT>
      <P>
      <P align=center><FONT color=black face=ARIAL size=4>ﾏ&#57517;裲&#57887;&#57517;籵湜・
      蒻琿魲魵鵫 ・淲・</FONT></P>
            <P><FONT color=red size=+1><B>ﾑ・鍄籵湜・・萵 ・&#57705;磊&#57887;褌 BN_CLICKED 
            ・ⅰ・ Clear</B></FONT></P>
            <UL type=round>
              <LI>ﾂ鎤褞褪・<B>ClassWizard</B> ・・・ <B>View</B> 
              <LI>ﾂ鎤褞褪・鈞・琅・ <B>Message Maps</B> ・・淲・ 
              <B>ClassWizard</B> 
              <LI>ﾈ&#57706;鸙・&#58076;&#57884; 蒻琿魲魵・ ・淲・ <B>ClassWizard</B> 蓁&#63731; 糺碚&#57503; 
              &#57702;裝・&#59200;胛 &#57705;磊&#57887;&#63731;:<BR><LEFT><B>Class Name: 
              CPaintORamaDlg<BR>Object ID: IDC_DEALCARDS<BR>Messages: 
              BN_CLICKED<BR></B></LEFT>
              <LI>ﾙ褄・頸・浯 ・ⅰ・ <B>Add Fucntion</B> ・・&#57503;&#57701;&#57530;糲褌・ 鶴淲, 
              粐裝頸・浯鈔瑙韃 &#58274;渼&#58639;・ <B>Deal Cards</B> 浯跪頸・・ⅰ・ 
              <B>OK</B>. </LI></UL>
            <UL type=square>
              <LI>ﾍ琥・&#57884; ・ⅰ・ <B>Edit Code</B> ・浯・&#59015;&#57884; &#57702;裝・&#59203;・・・・
              &#58274;渼&#58639;・<B>OnDealcards</B>: 
              <P><B>void CFourUpDlg::OnDealcards() <BR>{<BR>//ﾎ&#57892;&#63731;&#57907; 葢・蒡・瑩・
              ・・&#57695;璞・・&#57521;<BR>m_Amt_Remaining-=2.00;
              <P>//ﾑ萵&#57907; ・&#57521;・BR>DealCards();
              <P>//ﾏ鮏&#57714;頸瑣・糺鱚&#57530;・BR>CalculateWinnings();
              <P>//ﾈ銕褊頸・鈞胛・粽・&#63729;・・炅・Group Box<BR>CString 
              s;<BR>s.Format("Amount Remaining $ %.2f", 
              m_Amt_Remaining);<BR>m_Amt_Left.SetWindowText(s);<BR>}<BR></B></P>
              <LI>ﾂ浯&#58819;・ 糺 ⅳ湜・褪・葢・蒡・瑩・鈞 &#57695;璞・・&#57521;. 
              <LI>ﾏⅳ黑 糺 &#57695;瑯&#57884; ・&#57521;・ &#57696;鴒瑰 ・ 浯・&#59012;・&#63729;&#57898; &#58274;渼&#58639;&#63730;. 
              <LI>ﾇ瑣褌 糺 ・蓴&#58827;&#57906;籵褪・糺鱚&#57530;・ &#63729;&#57898; &#58274;渼&#58639;&#63730; ・ &#57893;趺 &#57696;鴒瑰 
              浯・&#59012;・ 
              <LI>ﾏⅲ・蓖韲・ⅰ褞瑣ⅱ瑟・・ &#58269;&#57515;頏&#58072;・&#57709;&#57517;・ ・糺鴪餧褌, ・
              ・・褌 鈞胛・粽・&#63729;・・炅・<B>IDC_AMT_LEFT</B>. 
              <LI>ﾄ髜珞・・&#57696;鴒瑰 ・&#57508;・澵・ <B>m_Cards[5]</B> c &#57887;・・
              <B>int</B>, ・&#57893;&#57503;&#63731; 碯蒟・&#58459;瑙頸・鈿璞褊韃 糺・糲頷 ・&#57521; 鮏濵・
              ・&#57709;・蓁&#63731; ・趾鵫 ・&#57709;・ 
              <LI>ﾄ髜珞韲 &#57696;鴒瑰 &#58274;渼&#58639;&#63730; <B>DealCards</B> ・・瑰・
              <B>CFourUpDlg</B> ・&#57887;・・<B>void</B>. ﾈ 浯・&#59012;・・淲・&#57702;裝・&#59203;・
              ・・
              <P><B>void CFourUpDlg::DealCards()<BR>{
              <P>//ﾎ硼&#58078;&#63731;褌 鈞浯&#58824;湜・糺・糲頷 ・&#57521; 鮏濵・・&#57709;・BR>for(int i=0; 
              i&lt;4;i++)m_Cards[i]=0;
              <P>//ﾌ褊&#63731;褌 韭・・ ・&#63729;・・炅瑾 &#58082;&#57503;粱褊・ 
              韭・・・<BR>m_Card1.SetIcon(PickRandomCard());<BR>m_Card2.SetIcon(PickRandomCard());<BR>m_Card3.SetIcon(PickRandomCard());<BR>m_Card4.SetIcon(PickRandomCard());<BR>}
              <P></B></P>
              <LI>ﾂ浯&#58819;・ 糺 髜炫・褪・鈿璞褊韃 糺・糲頷 ・&#57521; 鮏濵・・&#57709;・蓁&#63731; 
              ・趾鵫 ・&#57709;・ ・・ ・ 碯蒟・鈕珞瑣・・&#57521;・・頷 鈿璞褊・ 碯蔘・
              ・・&#57907;・ 齏・淲 碯蔘・ 
              <LI>ﾏⅳ黑 糺 ・・褪・韭・・ &#57702;&#58090;琺濵 糺碣瑙燾・&#57706;ⅲ髜黑, ・・・&#59223;&#63730; 
              &#58274;渼&#58639;・<B>PickRandomCard()</B>, ・・碯蒟・粽銜瓊瑣・&#58077;珸瑣褄・浯 
              韭・・, ・・・・&#59223;&#63730; 淲胛 ・ 碯蒟・・・&#57907; 韭・・, 頌・・銛&#63731; 蓁&#63731; 
              &#63729;&#57893;胛 ・&#57508;・澵・ &#58082;&#57503;粱褊・ &#63729;・・炅黑 <B>m_CardX</B> ・&#58274;渼&#58639;&#63730; 
              <B>SetIcon</B>, ・&#57893;&#57503;&#63731; ・竟韲瑯・・&#57503;・&#57895; <B>HICON</B> - 
              &#58077;珸瑣褄・浯 韭・・. 
              <LI>ﾄ髜珞・・&#58274;渼&#58639;&#63730; <B>PickRandomCard()</B> ・&#57887;・・
              <B>HICON&amp;</B> ・・瑰・<B>CFoutUpDlg</B>. ﾇ浯&#58833;・<B>&amp;</B> 
              胛粽&#57511;・ &#58837;・浯・炫趺・琅&#57508;・髜栁・・ ・淲 &#57691;・髜栁・. 
              <LI>ﾍ瑜顏頸・&#57702;裝・&#59203;・・・・&#58274;渼&#58639;・<B>PickRandomCard()</B>: 
              <P><B>HICON&amp; 
              CFourUpDlg::PickRandomCard()<BR>{<BR><BR>//ﾂ鎤&#57503;&#57907; 濵・・・&#57521;・
              &#57702;&#58090;琺燾・髜&#57503;鉋・BR>int num=(rand()%4);<BR>/*ﾏ&#57517;&#57708;&#58079;頏魵瑣・
              ・・粽 糺・糲頷 ・&#57521; 鮏濵・・&#57709;・/<BR>m_Cards[num]++;
              <P>/*ﾂ 鈞粨&#57699;・&#57709;・ⅳ 糺・糲裙・濵・&#57503; 粢&#57516;&#58085;・琅&#57508;・
              韭・・*/<BR>switch(num)<BR>{<BR>case 0: return m_Club;<BR>case 1: 
              return m_Diamond;<BR>case 2: return m_Heart;<BR>}<BR>return 
              m_Spade;<BR>}<BR></B></P>
              <LI>ﾂ浯&#58819;・ 糺 糺礪&#57503;褪・&#57702;&#58090;琺燾・髜&#57503;鉋・濵・・・&#57521;・ⅳ 0 蒡 3, 
              &#57710;・頏&#58072;&#57884; ・・粽 糺・&#59015;・・&#57521; 鮏濵・・&#57709;・ ・・鈞粨&#57699;・&#57709;・ⅳ 
              濵・&#57503; ・&#57521;・粽銜瓊瑯&#57884; 琅&#57508;・・&#57521;・ 
              <LI>ﾇ瑟褪・・ &#58837;・・ 淲 糺礪&#57503;褌 3 濵・・・・瀨&#57895;&#58077;&#58639;・ⅰ褞瑣ⅱ・
              <B>switch</B>, ・・ ・ 褥・ ・ 糺・蒟・ &#57893; ・ⅲ&#57893; 粢&#57516;褪・&#63731; 琅&#57508;・
              ・・&#57702;裝淲・&#57709;&#57517;&#58829;・ 
              <LI>ﾒ襃褞・浯・&#59012;・&#58274;・・ ・蓴&#58824;&#57879; 糺鱚&#57530;&#59007;. 
              <LI>ﾄ髜珞・・&#58274;渼&#58639;&#63730; <B>CalculateWinnings()</B> ・・瑰・
              <B>CFourUpDlg</B> c &#57887;・・<B>void</B>: 
              <LI>ﾍ瑜顏頸・・淲・&#57702;裝・&#59203;・・・
              <P><B>void CFourUpDlg::CalculateWinnings()<BR>{<BR>int 
              pairs=0;<BR>for(int i=0; i&lt;4; 
              i++)<BR>{<BR>if(m_Cards[i]==2)<BR>{<BR>if(pairs&gt;0)<BR>{<BR>m_Amt_Remaining+=3.00;<BR>break;<BR>}<BR>else<BR>{<BR>pairs++;<BR>}<BR>}<BR>else 
              if(m_Cards[i]==3)<BR>{<BR>m_Amt_Remaining+=6.00;<BR>break;<BR><BR>}<BR>else 
              if 
              (m_Cards[i]==4)<BR>{<BR>m_Amt_Remaining+=9.00;<BR>break;<BR>}<BR>}<BR>}<BR></B></P>
              <LI>ﾗ頸瑣褄&#63730; ・裝ⅲ&#57879;粱&#63731;褪・ &#57508;蓐・ 粽銕鮻濵&#57709;・&#57503;&#58457;碣瑣・&#63731; ・&#63729;&#57893;・
              ・蒟:) 
              <LI>ﾒ襃褞・&#57693;&#63731;鈞&#57907; ・ⅰ・ <B>Cah Outs</B> &#57705;磊&#57887;褌 
              <B>BN_CLICKED</B>. 
              <LI>ﾂ靃鸙湜&#57884; &#63729;&#57893; ・・・&#59223;&#63730; <B>ClassWizard</B>. 
              <LI>ﾈ 蒡矜紆&#57884; &#57702;裝・&#59203;・・・・&#58274;渼&#58639;&#63730; <B>OnCancel()</B>:
              <P><B>void CFourUpDlg::OnCancel() <BR>{
              <P>///-ﾂ璧 ・・浯&#58827;浯褪・ 鈕褥・///
              <P>CString s;<BR>//ﾄ髜珞頸・・&#57709;ⅱ・ &#57503;銕褞 
              糺鱚&#57530;&#59007;<BR>s.Format("Good game! I have $ 
              %.2f.",m_Amt_Remaining);<BR>//ﾂ鏸瑣・鶴濵 &#57705;髜&#59200;湜&#63731; 
              <BR>MessageBox(s,"Thank you for game in FourUp!");
              <P>///-ﾂ璧 ・・鈞・煆鞣瑯&#57896;&#63731; 鈕褥・///
              <P><BR>CDialog::OnCancel();<BR>}<BR></B></P>
              <LI>ﾝ&#57893;・・・糺粽蒻・鶴濵 &#57705;髜&#59200;湜&#63731; ・・・粽・籵&#59012;胛 糺鱚&#57530;&#59007;. 
              <LI>ﾇ瑜&#58084;&#57887;&#57884; ・魲&#57503;・・・・髜&#58076;&#57884; ・鞳&#57503;&#57907; ・糺鱚&#57503;&#57907; 
              &#58837;・湜碯蕈:) 
              <LI>ﾂⅳ ・糂・ &#57879;・&#63731; 淲碚・&#59007;&#63731; ・魲&#57503;・・ 濵 ・・&#58837;・・・糂・&#57503;粹・
              萵褪! </LI></UL>ﾓ萵&#58827;! 
            <P><div align="center"><BR><BR>ﾑ・鍄籵湜・&#63729;・・炅魵 &#58082;&#57503;粱褊・ ・&#57705;磊&#57887;&#63731;・ <A 
            href="lesson019.htm"><br><B 
            class=base2>&lt;-ﾍ珸琅</B></A> </div>
    </P></FONT>
<p><div align="center"><a href="lesson.htm"><img src="../soder.gif" width=120 height=31 border=0 alt=""></a></div></p>			
	</BODY></HTML>
